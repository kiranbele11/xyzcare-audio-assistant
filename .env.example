# Environment configuration for XYZCare voice manual demo
# Copy this file to ".env" and set required secrets.

# --- Required secrets ---
OPENAI_API_KEY=YOUR_OPENAI_API_KEY_HERE

# --- Optional OpenAI overrides ---
# OPENAI_API_BASE=https://api.openai.com/v1

# --- STT configuration ---
STT_PROVIDER=local
STT_MODEL=openai/whisper-base.en

# --- Embeddings / retrieval ---
EMBEDDING_MODEL=text-embedding-3-small
FTS_TOP_K=8
RERANK_TOP_N=3
CONFIDENCE_THRESHOLD=0.65

# --- Alias resolution ---
ALIAS_MATCH_THRESHOLD=0.85

# --- Paths ---
DATA_DIR=./data
MANUALS_DIR=./data/manuals
# Database configuration (PostgreSQL recommended for both local and production)
# Local development with Docker:
DATABASE_URL=postgresql://postgres:dev@localhost:5432/xyzcare
# For SQLite (local only, not recommended for production):
# DATABASE_URL=sqlite:///./data/sqlite/manuals.db
# Heroku will automatically override DATABASE_URL with their PostgreSQL connection string
# Legacy SQLite path (for backward compatibility when using SQLite)
SQLITE_PATH=./data/sqlite/manuals.db
FAISS_INDEX_PATH=./data/index/faiss.index
FAISS_META_PATH=./data/index/meta.json
ALIAS_MAP_PATH=./data/alias_map.json

# --- S3 Configuration (for PDF storage on Heroku) ---
USE_S3=false
AWS_ACCESS_KEY_ID=your_aws_access_key_here
AWS_SECRET_ACCESS_KEY=your_aws_secret_key_here
AWS_REGION=us-east-1
S3_BUCKET_NAME=xyzcare-manuals

# --- Upload / audio constraints ---
MAX_AUDIO_SECONDS=8
MAX_UPLOAD_MB=10
ALLOWED_AUDIO_MIME=audio/webm,audio/wav

# --- Server ---
APP_HOST=0.0.0.0
APP_PORT=8000
LOG_LEVEL=INFO

# --- Tuning / misc ---
ENABLE_TIMING_LOGS=true